<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/js/all.min.js"></script><link rel="icon" href="/logo.png"><link rel="icon" href="/favicon.ico" type="image/x-icon"><title>Implement SSH Keys | Samuël Lefebvre</title><meta name="description" content="Curriculum vitæ, projets and more !">
    <link rel="modulepreload" href="/assets/app.eb447150.js"><link rel="modulepreload" href="/assets/secure-access-with-ssh-keys.html.1af4ebf0.js"><link rel="modulepreload" href="/assets/secure-access-with-ssh-keys.html.93a10a61.js">
    <link rel="stylesheet" href="/assets/style.c6044bb0.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/en/" class=""><!----><span class="site-name">Samuël Lefebvre</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="Accueil"><!--[--><!--]--> Accueil <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Portfolio"><span class="title">Portfolio</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Portfolio"><span class="title">Portfolio</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/portfolio/unity.html" class="" aria-label="Unity"><!--[--><!--]--> Unity <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/portfolio/blender.html" class="" aria-label="Blender"><!--[--><!--]--> Blender <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/portfolio/unity/" class="" aria-label="Unity"><!--[--><!--]--> Unity <!--[--><!--]--></a></div><div class="navbar-item"><a href="/contact.md" class="" aria-label="Contact"><!--[--><!--]--> Contact <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Language</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Language</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/" class="" aria-label="Français"><!--[--><!--]--> Français <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/en/article/secure-access-with-ssh-keys.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="Accueil"><!--[--><!--]--> Accueil <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Portfolio"><span class="title">Portfolio</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Portfolio"><span class="title">Portfolio</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/portfolio/unity.html" class="" aria-label="Unity"><!--[--><!--]--> Unity <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/portfolio/blender.html" class="" aria-label="Blender"><!--[--><!--]--> Blender <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/portfolio/unity/" class="" aria-label="Unity"><!--[--><!--]--> Unity <!--[--><!--]--></a></div><div class="navbar-item"><a href="/contact.md" class="" aria-label="Contact"><!--[--><!--]--> Contact <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Language</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Language</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/" class="" aria-label="Français"><!--[--><!--]--> Français <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/en/article/secure-access-with-ssh-keys.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/" class="sidebar-item sidebar-heading" aria-label="Accueil"><!--[--><!--]--> Accueil <!--[--><!--]--></a><!----></li><li><a href="/portfolio" class="sidebar-item sidebar-heading collapsible" aria-label="Portfolio"><!--[--><!--]--> Portfolio <!--[--><!--]--></a><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/portfolio/unity.html" class="sidebar-item" aria-label="Unity"><!--[--><!--]--> Unity <!--[--><!--]--></a><!----></li><li><a href="/portfolio/blender.html" class="sidebar-item" aria-label="Blender"><!--[--><!--]--> Blender <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/projects" class="sidebar-item sidebar-heading collapsible" aria-label="Projets"><!--[--><!--]--> Projets <!--[--><!--]--></a><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/projects/labyrintheBlender.html" class="sidebar-item" aria-label="Labyrinthe dynamique avec Blender"><!--[--><!--]--> Labyrinthe dynamique avec Blender <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/tutorials" class="sidebar-item sidebar-heading collapsible" aria-label="Tutoriels"><!--[--><!--]--> Tutoriels <!--[--><!--]--></a><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/tutorials/interfaceUnity.html" class="sidebar-item" aria-label="Exploration de l&#39;interface d&#39;Unity"><!--[--><!--]--> Exploration de l&#39;interface d&#39;Unity <!--[--><!--]--></a><!----></li><li><a href="/tutorials/fracturationBlenderUnity.html" class="sidebar-item" aria-label="Fracturation objets et simulation"><!--[--><!--]--> Fracturation objets et simulation <!--[--><!--]--></a><!----></li><li><a href="/tutorials/teachableMachine.html" class="sidebar-item" aria-label="Apprentissage machine simplifié"><!--[--><!--]--> Apprentissage machine simplifié <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/research.html" class="sidebar-item sidebar-heading" aria-label="Recherche"><!--[--><!--]--> Recherche <!--[--><!--]--></a><!----></li><li><a href="/contact.html" class="sidebar-item sidebar-heading" aria-label="Contact"><!--[--><!--]--> Contact <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="how-to-implement-ssh-keys-in-ubuntu" tabindex="-1"><a class="header-anchor" href="#how-to-implement-ssh-keys-in-ubuntu" aria-hidden="true">#</a> How to implement SSH Keys in Ubuntu</h1><p>SSH keys provide an easy, passwordless and secure way of logging into your server.</p><p>The following tutorial has been tested on <em>Ubuntu 18.04.2 LTS (GNU/Linux 4.9.140-tegra aarch64)</em>.</p><h2 id="install-a-terminal" tabindex="-1"><a class="header-anchor" href="#install-a-terminal" aria-hidden="true">#</a> Install a terminal</h2><p>The following applications are recommended:</p><ul><li>Linux <ul><li>The terminal can be open with <kbd>CTRL</kbd>+<kbd>Alt</kbd>+<kbd>T</kbd></li></ul></li><li>Windows <ul><li><a href="https://chocolatey.org/packages/putty.install" target="_blank" rel="noopener noreferrer">PuTTY<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> PuTTY is a free implementation of Telnet and SSH for Windows and Unix platforms.</li><li><a href="https://chocolatey.org/packages/git" target="_blank" rel="noopener noreferrer">Git BASH<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> Git for Windows provides a BASH emulation used to run Git from the command line.</li></ul></li><li>Android <ul><li><a href="https://play.google.com/store/apps/details?id=com.sonelli.juicessh" target="_blank" rel="noopener noreferrer">JuiceSSH<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> Free SSH client for Android.</li></ul></li></ul><h2 id="check-for-existing-ssh-keys" tabindex="-1"><a class="header-anchor" href="#check-for-existing-ssh-keys" aria-hidden="true">#</a> Check for existing SSH keys</h2><p>First, check whether there are already keys on the computer you are using:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ls</span> ~/.ssh
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>If you see files named <code>id_rsa.pub</code> or <code>id_dsa.pub</code> you have keys set up already, so you can <a href="#copy-your-public-key-to-your-device">skip ⏩</a> the generating keys step.</p><h2 id="generate-new-ssh-keys" tabindex="-1"><a class="header-anchor" href="#generate-new-ssh-keys" aria-hidden="true">#</a> Generate new SSH keys</h2><p>To generate new SSH keys enter the following command:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ssh-keygen
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Leave the field empty for no passphrase. Now look inside your .ssh directory:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ls</span> ~/.ssh
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>and you should see the files <code>id_rsa</code> and <code>id_rsa.pub</code>:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>authorized_keys  id_rsa  id_rsa.pub  known_hosts
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>The <code>id_rsa</code> file is your private key.</p><div class="custom-container warning"><p class="custom-container-title">Privacy warning</p><p>Keep this on your computer. Do not share it!</p></div><p>The <code>id_rsa.pub</code> file is your public key. This is what you share with machines you want to connect to. When the machine you try to connect to matches your public and private key, it will allow you to connect.</p><h2 id="copy-your-public-key-to-your-device" tabindex="-1"><a class="header-anchor" href="#copy-your-public-key-to-your-device" aria-hidden="true">#</a> Copy your public key to your device</h2><p>Copy the file manually over SSH:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> ~/.ssh/id_rsa.pub <span class="token operator">|</span> <span class="token function">ssh</span> <span class="token operator">&lt;</span><span class="token environment constant">USER</span><span class="token operator">&gt;</span>@<span class="token operator">&lt;</span>IP-ADDRESS<span class="token operator">&gt;</span> <span class="token string">&quot;cat &gt;&gt; ~/.ssh/authorized_keys&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>or paste it from the clipboard. Replace <em>&lt;ID_RSA.PUB&gt;</em> by your key.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;&lt;ID_RSA.PUB&gt;&quot;</span> <span class="token operator">&gt;&gt;</span> ~/.ssh/authorized_keys
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container danger"><p class="custom-container-title">Do not overwrite your existing keys!</p><p><strong>&gt;</strong> overwrite the file <strong>&gt;&gt;</strong> append to the file</p></div><p>Now try ssh <code>&lt;USER&gt;@&lt;IP-ADDRESS&gt;</code> and you should connect without a password prompt.</p><h2 id="disable-password-authentication" tabindex="-1"><a class="header-anchor" href="#disable-password-authentication" aria-hidden="true">#</a> Disable password authentication</h2><p>Force the usage for the SSH Keys in WAN and keep the password access in LAN.</p><p>Edit the file <code>/etc/ssh/sshd_config</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/ssh/sshd_config
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Press <kbd>a</kbd> to edit in vim. Apply the fellow changes:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>PasswordAuthentication no
ChallengeResponseAuthentication no

Match Address <span class="token number">192.168</span>.0.0/16
    PasswordAuthentication <span class="token function">yes</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Save and close the file.</p><blockquote><p>Press <kbd>ESC</kbd> and type <code>:wq</code></p></blockquote><p>Reload the ssh server:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl reload <span class="token function">ssh</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>There are two <a href="https://en.wikipedia.org/wiki/Motd_(Unix)" title="message of the day" target="_blank" rel="noopener noreferrer">motd<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, when connecting with the ssh keys. If you know how to fix this, please let me know.</p></div><p>Done! 🎉</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">⏳️: </span><!----></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.eb447150.js" defer></script>
  </body>
</html>
