(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{305:function(e,s,a){"use strict";a.r(s);var t=a(41),r=Object(t.a)({},function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"how-to-implement-ssh-keys-in-ubuntu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-implement-ssh-keys-in-ubuntu","aria-hidden":"true"}},[e._v("#")]),e._v(" How to implement SSH Keys in Ubuntu")]),e._v(" "),a("p",[e._v("SSH keys provide an easy, passwordless and secure way of logging into your server.")]),e._v(" "),a("p",[e._v("The following tutorial has been tested on "),a("em",[e._v("Ubuntu 18.04.2 LTS (GNU/Linux 4.9.140-tegra aarch64)")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"install-a-terminal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-a-terminal","aria-hidden":"true"}},[e._v("#")]),e._v(" Install a terminal")]),e._v(" "),a("p",[e._v("The following applications are recommended:")]),e._v(" "),a("ul",[a("li",[e._v("Linux\n"),a("ul",[a("li",[e._v("The terminal can be open with "),a("kbd",[e._v("CTRL")]),e._v("+"),a("kbd",[e._v("Alt")]),e._v("+"),a("kbd",[e._v("T")])])])]),e._v(" "),a("li",[e._v("Windows\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://chocolatey.org/packages/putty.install",target:"_blank",rel:"noopener noreferrer"}},[e._v("PuTTY"),a("OutboundLink")],1),e._v(" PuTTY is a free implementation of Telnet and SSH for Windows and Unix platforms.")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://chocolatey.org/packages/git",target:"_blank",rel:"noopener noreferrer"}},[e._v("Git BASH"),a("OutboundLink")],1),e._v(" Git for Windows provides a BASH emulation used to run Git from the command line.")])])]),e._v(" "),a("li",[e._v("Android\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.sonelli.juicessh",target:"_blank",rel:"noopener noreferrer"}},[e._v("JuiceSSH"),a("OutboundLink")],1),e._v(" Free SSH client for Android.")])])])]),e._v(" "),a("h2",{attrs:{id:"check-for-existing-ssh-keys"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#check-for-existing-ssh-keys","aria-hidden":"true"}},[e._v("#")]),e._v(" Check for existing SSH keys")]),e._v(" "),a("p",[e._v("First, check whether there are already keys on the computer you are using:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" ~/.ssh\n")])])]),a("p",[e._v("If you see files named "),a("code",[e._v("id_rsa.pub")]),e._v(" or "),a("code",[e._v("id_dsa.pub")]),e._v(" you have keys set up already, so you can "),a("a",{attrs:{href:"#copy-your-public-key-to-your-device"}},[e._v("skip ‚è©")]),e._v(" the generating keys step.")]),e._v(" "),a("h2",{attrs:{id:"generate-new-ssh-keys"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generate-new-ssh-keys","aria-hidden":"true"}},[e._v("#")]),e._v(" Generate new SSH keys")]),e._v(" "),a("p",[e._v("To generate new SSH keys enter the following command:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("ssh-keygen\n")])])]),a("p",[e._v("Leave the field empty for no passphrase."),a("br"),e._v("\nNow look inside your .ssh directory:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" ~/.ssh\n")])])]),a("p",[e._v("and you should see the files "),a("code",[e._v("id_rsa")]),e._v(" and "),a("code",[e._v("id_rsa.pub")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("authorized_keys  id_rsa  id_rsa.pub  known_hosts\n")])])]),a("p",[e._v("The "),a("code",[e._v("id_rsa")]),e._v(" file is your private key.")]),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Privacy warning")]),e._v(" "),a("p",[e._v("Keep this on your computer. Do not share it!")])]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("id_rsa.pub")]),e._v(" file is your public key. This is what you share with machines you want to connect to. When the machine you try to connect to matches your public and private key, it will allow you to connect.")]),e._v(" "),a("h2",{attrs:{id:"copy-your-public-key-to-your-device"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#copy-your-public-key-to-your-device","aria-hidden":"true"}},[e._v("#")]),e._v(" Copy your public key to your device")]),e._v(" "),a("p",[e._v("Copy the file manually over SSH:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" ~/.ssh/id_rsa.pub "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ssh")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("USER")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("IP-ADDRESS"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"cat >> ~/.ssh/authorized_keys"')]),e._v("\n")])])]),a("p",[e._v("or paste it from the clipboard. Replace "),a("em",[e._v("<ID_RSA.PUB>")]),e._v(" by your key.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"<ID_RSA.PUB>"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v(" ~/.ssh/authorized_keys\n")])])]),a("div",{staticClass:"danger custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Do not overwrite your existing keys!")]),e._v(" "),a("p",[a("strong",[e._v(">")]),e._v(" overwrite the file"),a("br"),e._v(" "),a("strong",[e._v(">>")]),e._v(" append to the file")])]),e._v(" "),a("p",[e._v("Now try ssh "),a("code",[e._v("<USER>@<IP-ADDRESS>")]),e._v(" and you should connect without a password prompt.")]),e._v(" "),a("h2",{attrs:{id:"disable-password-authentication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disable-password-authentication","aria-hidden":"true"}},[e._v("#")]),e._v(" Disable password authentication")]),e._v(" "),a("p",[e._v("Force the usage for the SSH Keys in WAN and keep the password access in LAN.")]),e._v(" "),a("p",[e._v("Edit the file "),a("code",[e._v("/etc/ssh/sshd_config")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" /etc/ssh/sshd_config\n")])])]),a("p",[e._v("Press "),a("kbd",[e._v("a")]),e._v(" to edit in vim. Apply the fellow changes:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("PasswordAuthentication no\nChallengeResponseAuthentication no\n\nMatch Address "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".0.0/16\n    PasswordAuthentication "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yes")]),e._v("\n")])])]),a("p",[e._v("Save and close the file.")]),e._v(" "),a("blockquote",[a("p",[e._v("Press "),a("kbd",[e._v("ESC")]),e._v(" and type "),a("code",[e._v(":wq")])])]),e._v(" "),a("p",[e._v("Reload the ssh server:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl reload "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ssh")]),e._v("\n")])])]),a("div",{staticClass:"tip custom-block"},[a("p",[e._v("There are two "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Motd_(Unix)",title:"message of the day",target:"_blank",rel:"noopener noreferrer"}},[e._v("motd"),a("OutboundLink")],1),e._v(", when connecting with the ssh keys."),a("br"),e._v("\nIf you know how to fix this, please let me know.")])]),e._v(" "),a("p",[e._v("Done! üéâ")])])},[],!1,null,null,null);s.default=r.exports}}]);